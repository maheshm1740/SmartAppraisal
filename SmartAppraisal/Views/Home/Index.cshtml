@{
    Layout = "_Layout";
    ViewData["Title"] = "Home";
}

<link rel="stylesheet" href="~/css/home.css" />

<div class="home-container text-center mt-5">
    <div class="welcome-card mb-5">
        <h1 class="fw-bold">Welcome to Smart Appraisal</h1>
        <p class="subtitle">Manage competencies and appraisals effortlessly</p>
    </div>

    <div class="row g-4 justify-content-center">

        @* ==============================
           ADMIN & HR SECTION
        =============================== *@
        @if (Context.Session.GetString("curRole") == "Admin" || Context.Session.GetString("curRole") == "HR")
        {
            <div class="col-md-3">
                <a href="@Url.Action("CreateUser", "UserManagement")" class="card h-100 shadow hover-card text-decoration-none">
                    <div class="card-body text-center">
                        <i class="bi bi-person-plus display-5 text-primary"></i>
                        <h5 class="mt-3">Register Employee</h5>
                    </div>
                </a>
            </div>

            <div class="col-md-3">
                <a href="@Url.Action("Index", "Competency")" class="card h-100 shadow hover-card text-decoration-none">
                    <div class="card-body text-center">
                        <i class="bi bi-lightbulb display-5 text-warning"></i>
                        <h5 class="mt-3">Competencies</h5>
                    </div>
                </a>
            </div>

            <div class="col-md-3">
                <a href="@Url.Action("Assessments", "Assessment")" class="card h-100 shadow hover-card text-decoration-none">
                    <div class="card-body text-center">
                        <i class="bi bi-clipboard-check display-5 text-success"></i>
                        <h5 class="mt-3">Assessments</h5>
                    </div>
                </a>
            </div>

            @* Only HR should see Schedule Assessment *@
            @if (Context.Session.GetString("curRole") == "HR")
            {
                <div class="col-md-3">
                    <a href="@Url.Action("MapCandidates", "Assessment")" class="card h-100 shadow hover-card text-decoration-none">
                        <div class="card-body text-center">
                            <i class="bi bi-calendar-check display-5 text-info"></i>
                            <h5 class="mt-3">Schedule Assessment</h5>
                        </div>
                    </a>
                </div>
            }
        }

        @* ==============================
           SME SECTION
        =============================== *@
        @if (Context.Session.GetString("curRole") == "SME")
        {
            <div class="col-md-3">
                <a href="@Url.Action("Add", "QuestionAnswer")" class="card h-100 shadow hover-card text-decoration-none">
                    <div class="card-body text-center">
                        <i class="bi bi-question-circle display-5 text-primary"></i>
                        <h5 class="mt-3">Add Question</h5>
                    </div>
                </a>
            </div>

            <div class="col-md-3">
                <a href="@Url.Action("MyQuestions", "QuestionAnswer")" class="card h-100 shadow hover-card text-decoration-none">
                    <div class="card-body text-center">
                        <i class="bi bi-journal-text display-5 text-info"></i>
                        <h5 class="mt-3">My Questions</h5>
                        <p class="text-muted small mb-0">View questions you created & PM reviewed</p>
                    </div>
                </a>
            </div>
        }

        @* ==============================
           PM SECTION
        =============================== *@
        @if (Context.Session.GetString("curRole") == "PM")
        {
            <div class="col-md-3">
                <a href="@Url.Action("QuestionList", "QuestionAnswer")" class="card h-100 shadow hover-card text-decoration-none">
                    <div class="card-body text-center">
                        <i class="bi bi-list-check display-5 text-success"></i>
                        <h5 class="mt-3">View Questions</h5>
                    </div>
                </a>
            </div>
            <div class="col-md-3">
                <a href="@Url.Action("TestResults", "Assessment")" class="card h-100 shadow hover-card text-decoration-none">
                    <div class="card-body text-center">
                        <i class="bi bi-bar-chart-line display-5 text-info"></i>
                        <h5 class="mt-3">View Results</h5>
                        <p class="small mb-0">Check test performance and scores</p>
                    </div>
                </a>
            </div>

        }

    </div>
</div>
